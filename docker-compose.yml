version: "3.8"
services:
    db-mysql:
        image: "mysql:5.6"
        container_name: db-mysql
        environment:
          - MYSQL_ROOT_PASSWORD=hazem123
        ports:
          - "3307:3306"
        restart: unless-stopped
    springmaven:
        image: "ghannemhazem/devopsproject:68"
        build: .\dockerfile
        ports:
          - "8090:8089"
        environment:
          - SPRING_DATASOURCE_URL=jdbc:mysql://db-mysql:3306/ski?createDatabaseIfNotExist=true&userSSL=false&max_allowed_packet=15728640
          - SPRING_DATASOURCE_USERNAME=root
          - SPRING_DATASOURCE_PASSWORD=hazem123
        restart: unless-stopped
        depends_on:
          - db-mysql